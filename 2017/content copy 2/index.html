<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="description"><title>Title | Weihang Lo</title><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/bunny.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Gloria+Hallelujah|Ubuntu+Mono"></head><body><header><div class="colorline"></div><div class="header"><div class="header-container"><a class="header-title" href="/">Weihang Lo</a></div><nav><ul><li><a class="underline-hover" href="/">Home</a></li><li><a class="underline-hover" href="/archives">Archives</a></li></ul></nav></div></header><div id="content"><article class="post"><h1 class="post-title"><a class="underline-hover" href="/2017/content copy 2/">Title</a></h1><p class="post-date">Jan 7th, 2017</p><div class="post-content"><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/env python3</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> glob</div><div class="line"><span class="keyword">import</span> logging</div><div class="line"><span class="keyword">import</span> os</div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">import</span> time</div><div class="line"></div><div class="line"><span class="keyword">import</span> scraper</div><div class="line"></div><div class="line">CUR_PATH = os.path.dirname(os.path.abspath(__file__))</div><div class="line">PREFIX = <span class="string">'PTT_News'</span></div><div class="line"></div><div class="line">CORPUS_PATH = os.path.join(CUR_PATH, PREFIX)</div><div class="line">os.makedirs(CORPUS_PATH, exist_ok=<span class="keyword">True</span>)</div><div class="line"></div><div class="line">fh = logging.FileHandler(os.path.join(CORPUS_PATH, PREFIX + <span class="string">'.log'</span>))</div><div class="line">fh.setLevel(logging.DEBUG)</div><div class="line"></div><div class="line">logger = logging.getLogger()</div><div class="line">logger.addHandler(fh)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">unique</span><span class="params">(seq)</span>:</span></div><div class="line">    seen = set()</div><div class="line">    seen_add = seen.add</div><div class="line">    <span class="keyword">return</span> [x <span class="keyword">for</span> x <span class="keyword">in</span> seq <span class="keyword">if</span> <span class="keyword">not</span> (x <span class="keyword">in</span> seen <span class="keyword">or</span> seen_add(x))]</div></pre></td></tr></table></figure>
<a id="more"></a>
<ul>
<li><a href="http://readium.org/" target="_blank" rel="external">Readium</a></li>
<li><a href="http://futurepress.org/" target="_blank" rel="external">Futurepress</a></li>
</ul>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul>
<li><a href="http://www.idpf.org/epub/linking/cfi/epub-cfi.html" target="_blank" rel="external">EPUB Canonical Fragment Identifiers</a> (1 August 2016)</li>
<li><a href="http://matt.garrish.ca/2013/03/navigating-cfis-part-1/" target="_blank" rel="external">Navigating EPUB CFIs – Part 1</a></li>
<li><a href="http://matt.garrish.ca/2013/12/navigating-cfis-part-2/" target="_blank" rel="external">Navigating EPUB CFIs – Part 2</a></li>
</ul>
</div></article></div><div id="pagination"><a class="prev" href="/2017/content copy 3/"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i>Title</a><a class="next" href="/2017/content copy 4/">Title<i class="fa fa-arrow-circle-right" aria-hidden="true"></i></a></div><div id="commenter"><div id="disqus_thread"></div><script>var disqus_config = function () {
  this.page.url = config.url + page.path;
  this.page.identifier = page.path;
  this.page.title = page.title;
};
(function() {
  var d = document, s = d.createElement('script');
  s.src = '//' + theme.disqus + '.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
})();</script><script id="dsq-count-scr" src="//weihang-lo.disqus.com/count.js" async></script></div><footer><div class="social-media"><a href="mailto://weihanglotw@gmail.com"><i class="fa fa-envelope" aria-hidden="true"></i></a><a href="https://twitter.com/weihanglo"><i class="fa fa-twitter-square" aria-hidden="true"></i></a><a href="https://facebook.com/weihanglo"><i class="fa fa-facebook-square" aria-hidden="true"></i></a><a href="https://github.com/weihanglo"><i class="fa fa-github" aria-hidden="true"></i></a><a href="https://getpocket.com/@weihanglo"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></div><div class="copyright"><p> Powered by <a href="https://hexo.io">Hexo</a> with <a href="https://github.com/weihanglo/hexo-theme-bunny">Bunny</a> theme</p><p>© 2017 <span class="heart">♥︎</span> <a href="https://weihanglo.github.io">Weihang Lo</a></p></div></footer><script src="https://use.fontawesome.com/3c9c506c2d.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', theme.ga, 'auto');
ga('send', 'pageview');</script></body></html>